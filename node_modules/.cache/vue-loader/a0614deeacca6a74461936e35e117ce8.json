{"remainingRequest":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\src\\components\\FeedbackPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\src\\components\\FeedbackPage.vue","mtime":1593589296880},{"path":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593513929337},{"path":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":1593513929331},{"path":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593513929337},{"path":"D:\\Han\\OSDC Dashboard\\source\\github\\feedback-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":1593513961999}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtZXNzYWdlLCBCdXR0b24gfSBmcm9tICJhbnQtZGVzaWduLXZ1ZSI7DQppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7DQoNCmltcG9ydCBEYXNoYm9hcmQgZnJvbSAiLi9EYXNoYm9hcmQiOw0KaW1wb3J0IExvYWRpbmcgZnJvbSAiLi9Mb2FkaW5nIjsNCmltcG9ydCBNZW51IGZyb20gIi4vTWVudSI7DQppbXBvcnQgT3ZlcnZpZXdUYWJsZSBmcm9tICIuL092ZXJ2aWV3VGFibGUiOw0KaW1wb3J0IFByb2plY3RGZWVkYmFjayBmcm9tICIuL1Byb2plY3RGZWVkYmFjayI7DQoNCmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICIuLi9hcGkiOw0KaW1wb3J0IHsNCiAgRU5EX1BPSU5ULA0KICBEQVNIQk9BUkRfTEFCRUxTX0xJU1QsDQogIERFRkFVTFQsDQogIFNDUkVFTl9CUkVBS19QT0lOVFNfREVGSU5JVElPTiwNCiAgUkFUSU5HUywNCiAgVVNFUl9JRCwNCiAgRkVFREJBQ0tfU1RBVEUNCn0gZnJvbSAiLi4vY29uZmlnIjsNCg0KY29uc3QgREFURV9GT1JNQVQgPSAiWVlZWS1NTS1ERCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkZlZWRiYWNrUGFnZSIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBCdXR0b24sDQogICAgRGFzaGJvYXJkLA0KICAgIExvYWRpbmcsDQogICAgTWVudSwNCiAgICBPdmVydmlld1RhYmxlLA0KICAgIFByb2plY3RGZWVkYmFjaw0KICB9LA0KICBkYXRhOiAoKSA9PiB7DQogICAgcmV0dXJuIHsNCiAgICAgIHByb2plY3RzOiBbXSwNCiAgICAgIHByb2plY3Q6IHsNCiAgICAgICAgaWQ6IERFRkFVTFQsDQogICAgICAgIHByb2plY3ROYW1lOiBERUZBVUxUDQogICAgICB9LA0KICAgICAgc2NyZWVuQnJlYWtwb2ludHM6IFNDUkVFTl9CUkVBS19QT0lOVFNfREVGSU5JVElPTiwNCiAgICAgIGRlZmF1bHRWYWx1ZTogREVGQVVMVCwNCiAgICAgIHNlY3Rpb25zOiBbXSwNCiAgICAgIHJhdGluZ3M6IFtdLA0KICAgICAgc3VydmV5czogW10sDQogICAgICBzdXJ2ZXk6IHt9LA0KICAgICAgbWVzc2FnZSwNCiAgICAgIGlzTG9hZGluZzogdHJ1ZSwNCiAgICAgIHNob3dPdmVydmlldzogdHJ1ZSwNCiAgICAgIG92ZXJ2aWV3RGF0YTogW10sDQogICAgICBoaXN0b3J5RGF0YTogW10sDQogICAgICBzdXJ2ZXlTZWN0aW9uczogW10sDQogICAgICBmZWVkYmFja1N0YXRlczogRkVFREJBQ0tfU1RBVEUsDQogICAgICBmZWVkYmFja1N0YXRlOiBGRUVEQkFDS19TVEFURS5OT19GRUVEQkFDSywNCiAgICAgIGtleTogTWF0aC5yYW5kb20oKSwNCiAgICAgIGV2ZW50TmFtZTogIiIsDQogICAgICByZXZpZXc6ICIiDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBQcm9taXNlLmFsbChbDQogICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL3Byb2plY3RzYCksDQogICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL3NlY3Rpb25zYCksDQogICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL3N1cnZleXNgKSwNCiAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZGFzaGJvYXJkL3Byb2plY3RzL3N1bW1hcnlgLCB7DQogICAgICAgIG1ldGhvZDogIlBPU1QiDQogICAgICB9KSwNCiAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZGFzaGJvYXJkL3Byb2plY3RzL2hpc3RvcnlgLCB7DQogICAgICAgIG1ldGhvZDogIlBPU1QiDQogICAgICB9KQ0KICAgIF0pDQogICAgICAudGhlbigoW3Byb2plY3RzLCBzZWN0aW9ucywgc3VydmV5cywgb3ZlcnZpZXdEYXRhLCBoaXN0b3J5RGF0YV0pID0+IHsNCiAgICAgICAgaWYgKHNlY3Rpb25zICYmIHNlY3Rpb25zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICB0aGlzLnNlY3Rpb25zID0gc2VjdGlvbnM7DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLnNldE92ZXJ2aWV3RGF0YShvdmVydmlld0RhdGEpOw0KICAgICAgICB0aGlzLnNldEhpc3RvcnlEYXRhKFtoaXN0b3J5RGF0YV0sIFt7IHRpdGxlOiBERUZBVUxUIH1dKTsNCg0KICAgICAgICB0aGlzLnJhdGluZ3MgPSBSQVRJTkdTOw0KDQogICAgICAgIGlmIChwcm9qZWN0cyAmJiBwcm9qZWN0cy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5wcm9qZWN0cyA9IHByb2plY3RzOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHN1cnZleXMgJiYgc3VydmV5cy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgdGhpcy5zdXJ2ZXlzID0gc3VydmV5czsNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICB9KQ0KICAgICAgLnRoZW4oKCkgPT4gdGhpcy5nZXRPdmVydmlld1RhYmxlRGF0YSgpKQ0KICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IoZSk7DQogICAgICB9KTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ2xpY2tDaGFuZ2VTZWN0aW9uKCkgew0KICAgICAgdGhpcy5zaG93T3ZlcnZpZXcgPSAhdGhpcy5zaG93T3ZlcnZpZXc7DQogICAgfSwNCg0KICAgIG9uQ2xpY2tOZXcoKSB7DQogICAgICB0aGlzLmZlZWRiYWNrU3RhdGUgPSBGRUVEQkFDS19TVEFURS5ORVdfRkVFREJBQ0s7DQogICAgICB0aGlzLnN1cnZleVNlY3Rpb25zID0gdGhpcy5zdXJ2ZXkuc2VjdGlvbnMubWFwKHNlY3Rpb24gPT4gew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgIC4uLnNlY3Rpb24sDQogICAgICAgICAgdGl0bGU6IHRoaXMuc2VjdGlvbnMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHNlY3Rpb24uc2VjdGlvbklkKS50aXRsZQ0KICAgICAgICB9Ow0KICAgICAgfSk7DQogICAgfSwNCg0KICAgIHNldE92ZXJ2aWV3RGF0YShvdmVydmlld0RhdGEpIHsNCiAgICAgIGlmIChvdmVydmlld0RhdGEpIHsNCiAgICAgICAgdGhpcy5vdmVydmlld0RhdGEgPSBEQVNIQk9BUkRfTEFCRUxTX0xJU1QubWFwKA0KICAgICAgICAgIGl0ZW0gPT4gb3ZlcnZpZXdEYXRhW2l0ZW1dDQogICAgICAgICk7DQogICAgICB9DQogICAgfSwNCg0KICAgIHNldEhpc3RvcnlEYXRhKGhpc3RvcnlEYXRhLCBzZWN0aW9ucykgew0KICAgICAgaWYgKGhpc3RvcnlEYXRhICYmIGhpc3RvcnlEYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5oaXN0b3J5RGF0YSA9IHNlY3Rpb25zLm1hcCgoc2VjdGlvbiwgaWR4KSA9PiAoew0KICAgICAgICAgIHRpdGxlOiBzZWN0aW9uLnRpdGxlLA0KICAgICAgICAgIGRhdGE6IGhpc3RvcnlEYXRhW2lkeF0uc29ydCgoYSwgYikgPT4gew0KICAgICAgICAgICAgcmV0dXJuIG1vbWVudChhLmRhdGUsIERBVEVfRk9STUFUKSA8IG1vbWVudChiLmRhdGUsIERBVEVfRk9STUFUKQ0KICAgICAgICAgICAgICA/IC0xDQogICAgICAgICAgICAgIDogMTsNCiAgICAgICAgICB9KQ0KICAgICAgICB9KSk7DQogICAgICB9DQogICAgfSwNCg0KICAgIGdldE92ZXJ2aWV3VGFibGVEYXRhKCkgew0KICAgICAgaWYgKHRoaXMuc2VjdGlvbnMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7DQogICAgICAgIFByb21pc2UuYWxsKA0KICAgICAgICAgIHRoaXMuc2VjdGlvbnMubWFwKHNlY3Rpb24gPT4NCiAgICAgICAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZGFzaGJvYXJkL3Byb2plY3RzL3N1bW1hcnlgLCB7DQogICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgc2VjdGlvbklkOiBzZWN0aW9uLmlkDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICkNCiAgICAgICAgKQ0KICAgICAgICAgIC50aGVuKHZhbHVlcyA9PiB7DQogICAgICAgICAgICB0aGlzLnNlY3Rpb25zID0gdGhpcy5zZWN0aW9ucy5tYXAoKHNlY3Rpb24sIGlkeCkgPT4gKHsNCiAgICAgICAgICAgICAgLi4uc2VjdGlvbiwNCiAgICAgICAgICAgICAgLi4udmFsdWVzW2lkeF0NCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goZSA9PiB7DQogICAgICAgICAgICB0aHJvdyBlOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBoYW5kbGVTZWxlY3RQcm9qZWN0KHsgaWQgfSkgew0KICAgICAgaWYgKHRoaXMucHJvamVjdC5pZCA9PT0gaWQpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgaWYgKGlkID09PSBERUZBVUxUKSB7DQogICAgICAgIHRoaXMucHJvamVjdCA9IHsNCiAgICAgICAgICBpZDogREVGQVVMVCwNCiAgICAgICAgICBwcm9qZWN0TmFtZTogREVGQVVMVA0KICAgICAgICB9Ow0KDQogICAgICAgIFByb21pc2UuYWxsKFsNCiAgICAgICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL2Rhc2hib2FyZC9wcm9qZWN0cy9zdW1tYXJ5YCwgew0KICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCINCiAgICAgICAgICB9KSwNCiAgICAgICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL2Rhc2hib2FyZC9wcm9qZWN0cy9oaXN0b3J5YCwgew0KICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCINCiAgICAgICAgICB9KQ0KICAgICAgICBdKQ0KICAgICAgICAgIC50aGVuKChbb3ZlcnZpZXdEYXRhLCBoaXN0b3J5RGF0YV0pID0+IHsNCiAgICAgICAgICAgIHRoaXMuc2V0T3ZlcnZpZXdEYXRhKG92ZXJ2aWV3RGF0YSk7DQogICAgICAgICAgICB0aGlzLnNldEhpc3RvcnlEYXRhKFtoaXN0b3J5RGF0YV0sIFt7IHRpdGxlOiBERUZBVUxUIH1dKTsNCiAgICAgICAgICAgIC8vIHRyaWdnZXIgcmUtbW91bnQgb3ZlcnZpZXcgZGFzaGJvYXJkDQogICAgICAgICAgICB0aGlzLmtleSA9IE1hdGgucmFuZG9tKCk7DQogICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5nZXRPdmVydmlld1RhYmxlRGF0YSgpKQ0KICAgICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IoZSk7DQogICAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCBzZWxlY3RlZFByb2plY3QgPSB0aGlzLnByb2plY3RzLmZpbmQocCA9PiBwLmlkID09PSBpZCk7DQogICAgICAgIHRoaXMucHJvamVjdCA9IHsNCiAgICAgICAgICBwcm9qZWN0TmFtZTogc2VsZWN0ZWRQcm9qZWN0LnByb2plY3ROYW1lLA0KICAgICAgICAgIGlkOiBzZWxlY3RlZFByb2plY3QuaWQNCiAgICAgICAgfTsNCiAgICAgICAgaWYgKHRoaXMuc3VydmV5cy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgLy8gdGVtcG9yYXJ5IGdldCBzdXJ2ZXkgZm9yIHByb2plY3QNCiAgICAgICAgICBjb25zdCBzdXJ2ZXlJZCA9IHRoaXMuc3VydmV5c1swXS5pZDsNCiAgICAgICAgICBQcm9taXNlLmFsbChbDQogICAgICAgICAgICByZXF1ZXN0KA0KICAgICAgICAgICAgICBgJHtFTkRfUE9JTlR9L2FwaS9zdXJ2ZXlzLyR7c3VydmV5SWR9L3Byb2plY3QvJHtzZWxlY3RlZFByb2plY3QuaWR9YA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIHJlcXVlc3QoDQogICAgICAgICAgICAgIGAke0VORF9QT0lOVH0vYXBpL2ZlZWRiYWNrcy9zdXJ2ZXkvJHtzdXJ2ZXlJZH0vcHJvamVjdC8ke3NlbGVjdGVkUHJvamVjdC5pZH0vdXNlci8ke1VTRVJfSUR9YA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZGFzaGJvYXJkL3Byb2plY3RzL3N1bW1hcnlgLCB7DQogICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiDQogICAgICAgICAgICB9KSwNCiAgICAgICAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZGFzaGJvYXJkL3Byb2plY3RzL2hpc3RvcnlgLCB7DQogICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIF0pDQogICAgICAgICAgICAudGhlbigoW3N1cnZleSwgZmVlZGJhY2ssIG92ZXJ2aWV3RGF0YSwgaGlzdG9yeURhdGFdKSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuc2V0T3ZlcnZpZXdEYXRhKG92ZXJ2aWV3RGF0YSk7DQogICAgICAgICAgICAgIHRoaXMuc2V0SGlzdG9yeURhdGEoW2hpc3RvcnlEYXRhXSwgW3sgdGl0bGU6IERFRkFVTFQgfV0pOw0KDQogICAgICAgICAgICAgIHRoaXMuc3VydmV5ID0geyAuLi5zdXJ2ZXksIGlkOiBzdXJ2ZXlJZCB9Ow0KDQogICAgICAgICAgICAgIHRoaXMuc3VydmV5U2VjdGlvbnMgPSBzdXJ2ZXkuc2VjdGlvbnMubWFwKHNlY3Rpb24gPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAuLi5zZWN0aW9uLA0KICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuc2VjdGlvbnMuZmluZCgNCiAgICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLmlkID09PSBzZWN0aW9uLnNlY3Rpb25JZA0KICAgICAgICAgICAgICAgICAgKS50aXRsZQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgIGlmIChmZWVkYmFjaykgew0KICAgICAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tTdGF0ZSA9IEZFRURCQUNLX1NUQVRFLkxBU1RfRkVFREJBQ0s7DQogICAgICAgICAgICAgICAgdGhpcy5yZXZpZXcgPSBmZWVkYmFjay5yZXZpZXc7DQogICAgICAgICAgICAgICAgdGhpcy5ldmVudE5hbWUgPSAiIjsNCg0KICAgICAgICAgICAgICAgIHRoaXMuc3VydmV5U2VjdGlvbnMgPSB0aGlzLnN1cnZleVNlY3Rpb25zLm1hcChzZWN0aW9uID0+IHsNCiAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIC4uLnNlY3Rpb24sDQogICAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uczogc2VjdGlvbi5xdWVzdGlvbnMubWFwKHEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICAuLi5xLA0KICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBmZWVkYmFjay5yYXRpbmdzDQogICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5kKGl0ZW0gPT4gaXRlbS5zZWN0aW9uSWQgPT09IHNlY3Rpb24uc2VjdGlvbklkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlc3Rpb25zLmZpbmQoDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnF1ZXN0aW9uSWQgPT09IHEucXVlc3Rpb25JZA0KICAgICAgICAgICAgICAgICAgICAgICAgICApLnJhdGluZw0KICAgICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuZmVlZGJhY2tTdGF0ZSA9IEZFRURCQUNLX1NUQVRFLk5PX0ZFRURCQUNLOw0KICAgICAgICAgICAgICAgIHRoaXMuZXZlbnROYW1lID0gIiI7DQogICAgICAgICAgICAgICAgdGhpcy5yZXZpZXcgPSAiIjsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHJlLW1vdW50IG92ZXJ2aWV3IGRhc2hib2FyZA0KICAgICAgICAgICAgICB0aGlzLmtleSA9IE1hdGgucmFuZG9tKCk7DQogICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IoZSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm1lc3NhZ2UuZXJyb3IoIkNhbm5vdCByZXRyaWV2ZSBzdXJ2ZXkiKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBoYW5kbGVSYXRlQ2hhbmdlKHsgc2VjdGlvbklkLCBxdWVzdGlvbklkLCByYXRpbmcgfSkgew0KICAgICAgdGhpcy5zdXJ2ZXlTZWN0aW9ucyA9IHRoaXMuc3VydmV5U2VjdGlvbnMubWFwKHMgPT4gew0KICAgICAgICBpZiAocy5zZWN0aW9uSWQgPT09IHNlY3Rpb25JZCkgew0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAuLi5zLA0KICAgICAgICAgICAgcXVlc3Rpb25zOiBzLnF1ZXN0aW9ucy5tYXAocSA9PiB7DQogICAgICAgICAgICAgIGlmIChxLnF1ZXN0aW9uSWQgPT09IHF1ZXN0aW9uSWQpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgLi4ucSwNCiAgICAgICAgICAgICAgICAgIHJhdGluZw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgcmV0dXJuIHE7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHM7DQogICAgICB9KTsNCiAgICB9LA0KDQogICAgaGFuZGxlU3VibWl0UHJvamVjdCh7IGV2ZW50LCByZXZpZXcgfSkgew0KICAgICAgY29uc3QgeyBwcm9qZWN0LCBzdXJ2ZXlTZWN0aW9ucyB9ID0gdGhpczsNCiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gew0KICAgICAgICB1c2VySWQ6IFVTRVJfSUQsDQogICAgICAgIHN1cnZleUlkOiB0aGlzLnN1cnZleS5pZCwNCiAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0LmlkLA0KICAgICAgICByZXZpZXcsDQogICAgICAgIGV2ZW50LA0KICAgICAgICByYXRpbmdzOiBzdXJ2ZXlTZWN0aW9ucy5tYXAocyA9PiAoew0KICAgICAgICAgIHNlY3Rpb25JZDogcy5zZWN0aW9uSWQsDQogICAgICAgICAgcXVlc3Rpb25zOiBzLnF1ZXN0aW9ucy5tYXAocSA9PiAoew0KICAgICAgICAgICAgcXVlc3Rpb25JZDogcS5xdWVzdGlvbklkLA0KICAgICAgICAgICAgcmF0aW5nOiBxLnJhdGluZw0KICAgICAgICAgIH0pKQ0KICAgICAgICB9KSkNCiAgICAgIH07DQoNCiAgICAgIHJlcXVlc3QoYCR7RU5EX1BPSU5UfS9hcGkvZmVlZGJhY2tzL3N1Ym1pdGAsIHsNCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsDQogICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcXVlc3RCb2R5KQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudDsNCiAgICAgICAgICB0aGlzLnJldmlldyA9IHJldmlldzsNCiAgICAgICAgICB0aGlzLmZlZWRiYWNrU3RhdGUgPSBGRUVEQkFDS19TVEFURS5MQVNUX0ZFRURCQUNLOw0KICAgICAgICAgIHRoaXMubWVzc2FnZS5zdWNjZXNzKHRoaXMuJHQoImZlZWRiYWNrLnRoYW5rcyIpKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5tZXNzYWdlLmVycm9yKGUpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgaGFuZGxlQ2FuY2VsUHJvamVjdCgpIHsNCiAgICAgIHRoaXMuZmVlZGJhY2tTdGF0ZSA9IEZFRURCQUNLX1NUQVRFLkxBU1RfRkVFREJBQ0s7DQogICAgfSwNCg0KICAgIGNoYW5nZU92ZXJ2aWV3U2VjdGlvbih7IHNlY3Rpb25JZCB9KSB7DQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7DQogICAgICByZXF1ZXN0KGAke0VORF9QT0lOVH0vYXBpL2Rhc2hib2FyZC9wcm9qZWN0cy9zdW1tYXJ5YCwgew0KICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgIHNlY3Rpb25JZDogc2VjdGlvbklkID09PSBERUZBVUxUID8gbnVsbCA6IHNlY3Rpb25JZCwNCiAgICAgICAgICBwcm9qZWN0SWQ6IHRoaXMucHJvamVjdC5pZCA9PT0gREVGQVVMVCA/IG51bGwgOiB0aGlzLnByb2plY3QuaWQNCiAgICAgICAgfSkNCiAgICAgIH0pDQogICAgICAgIC50aGVuKGRhdGEgPT4gew0KICAgICAgICAgIHRoaXMuc2V0T3ZlcnZpZXdEYXRhKGRhdGEpOw0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMubWVzc2FnZS5lcnJvcihlKTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIGNoYW5nZUhpc3RvcnlTZWN0aW9uKHsgc2VjdGlvbnMgfSkgew0KICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOw0KICAgICAgUHJvbWlzZS5hbGwoDQogICAgICAgIHNlY3Rpb25zLm1hcChzZWN0aW9uID0+DQogICAgICAgICAgcmVxdWVzdChgJHtFTkRfUE9JTlR9L2FwaS9kYXNoYm9hcmQvcHJvamVjdHMvaGlzdG9yeWAsIHsNCiAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLA0KICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoew0KICAgICAgICAgICAgICBzZWN0aW9uSWQ6IHNlY3Rpb24uaWQgPT09IERFRkFVTFQgPyBudWxsIDogc2VjdGlvbi5pZCwNCiAgICAgICAgICAgICAgcHJvamVjdElkOiB0aGlzLnByb2plY3QuaWQgPT09IERFRkFVTFQgPyBudWxsIDogdGhpcy5wcm9qZWN0LmlkDQogICAgICAgICAgICB9KQ0KICAgICAgICAgIH0pDQogICAgICAgICkNCiAgICAgICkNCiAgICAgICAgLnRoZW4odmFsdWVzID0+IHsNCiAgICAgICAgICB0aGlzLnNldEhpc3RvcnlEYXRhKHZhbHVlcywgc2VjdGlvbnMpOw0KICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlID0+IHsNCiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMubWVzc2FnZS5lcnJvcihlKTsNCiAgICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["FeedbackPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FeedbackPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"feedback-page-wrapper\">\r\n    <Menu\r\n      :projects=\"projects\"\r\n      :selectedProject=\"project\"\r\n      @selectProject=\"handleSelectProject\"\r\n      :eventName=\"eventName\"\r\n    />\r\n    <Loading isSpin v-if=\"isLoading\" />\r\n    <mq-layout :mq=\"`${screenBreakpoints.md}+`\">\r\n      <div class=\"feedback-page-content\">\r\n        <div class=\"feedback-page-content-left\">\r\n          <div class=\"feedback-page-content-left-header\">\r\n            <div class=\"feedback-page-content-left-header-text\">{{$t('feedback.feedback')}}</div>\r\n            <Button\r\n              v-if=\"project.id !== defaultValue\"\r\n              type=\"primary\"\r\n              class=\"feedback-page-content-left-header-new\"\r\n              @click=\"onClickNew\"\r\n            >{{$t('feedback.new')}}</Button>\r\n          </div>\r\n          <div class=\"feedback-page-content-left-section\">\r\n            <OverviewTable :sections=\"sections\" v-if=\"project.id === defaultValue\" />\r\n            <ProjectFeedback\r\n              v-if=\"project.id !== defaultValue && feedbackState !== feedbackStates.NO_FEEDBACK\"\r\n              :sections=\"surveySections\"\r\n              :ratings=\"ratings\"\r\n              @ratechange=\"handleRateChange\"\r\n              @submitProject=\"handleSubmitProject\"\r\n              @cancelProject=\"handleCancelProject\"\r\n              :state=\"feedbackState\"\r\n              :event=\"eventName\"\r\n              :review=\"review\"\r\n            />\r\n            <div\r\n              v-if=\"project.id !== defaultValue && feedbackState === feedbackStates.NO_FEEDBACK\"\r\n            >{{$t('feedback.new-feedback')}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"feedback-page-content-right\">\r\n          <div class=\"feedback-page-content-right-header\">\r\n            <div class=\"feedback-page-content-right-header-text\">{{$t('feedback.dashboard')}}</div>\r\n          </div>\r\n          <Dashboard\r\n            :key=\"key\"\r\n            :sections=\"sections\"\r\n            :overviewData=\"overviewData\"\r\n            :historyData=\"historyData\"\r\n            @changeOverviewSection=\"changeOverviewSection\"\r\n            @changeHistorySection=\"changeHistorySection\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </mq-layout>\r\n    <mq-layout :mq=\"[screenBreakpoints.xxs, screenBreakpoints.xs, screenBreakpoints.sm]\">\r\n      <div class=\"feedback-page-content\">\r\n        <div class=\"feedback-page-content-left\" v-if=\"showOverview\">\r\n          <div class=\"feedback-page-content-left-header\">\r\n            <div class=\"feedback-page-content-left-header-text\">{{$t('feedback.feedback')}}</div>\r\n            <Button\r\n              v-if=\"project.id !== defaultValue\"\r\n              type=\"primary\"\r\n              class=\"feedback-page-content-left-header-new\"\r\n              @click=\"onClickNew\"\r\n            >{{$t('feedback.new')}}</Button>\r\n            <Button\r\n              type=\"primary\"\r\n              class=\"feedback-page-content-left-header-dashboard\"\r\n              @click=\"onClickChangeSection\"\r\n            >{{$t('feedback.dashboard')}}</Button>\r\n          </div>\r\n          <div class=\"feedback-page-content-left-section\">\r\n            <OverviewTable :sections=\"sections\" v-if=\"project.id === defaultValue\" />\r\n            <ProjectFeedback\r\n              v-if=\"project.id !== defaultValue && feedbackState !== feedbackStates.NO_FEEDBACK\"\r\n              :sections=\"surveySections\"\r\n              :ratings=\"ratings\"\r\n              @ratechange=\"handleRateChange\"\r\n              @submitProject=\"handleSubmitProject\"\r\n              @cancelProject=\"handleCancelProject\"\r\n              :state=\"feedbackState\"\r\n              :event=\"eventName\"\r\n              :review=\"review\"\r\n            />\r\n            <div\r\n              v-if=\"project.id !== defaultValue && feedbackState === feedbackStates.NO_FEEDBACK\"\r\n            >{{$t('feedback.new-feedback')}}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"feedback-page-content-right\" v-if=\"!showOverview\">\r\n          <div class=\"feedback-page-content-right-header\">\r\n            <div class=\"feedback-page-content-right-header-text\">{{$t('feedback.dashboard')}}</div>\r\n            <Button\r\n              type=\"primary\"\r\n              class=\"feedback-page-content-right-header-feedback\"\r\n              @click=\"onClickChangeSection\"\r\n            >{{$t('feedback.feedback')}}</Button>\r\n          </div>\r\n          <Dashboard\r\n            :sections=\"sections\"\r\n            :overviewData=\"overviewData\"\r\n            :historyData=\"historyData\"\r\n            @changeOverviewSection=\"changeOverviewSection\"\r\n            @changeHistorySection=\"changeHistorySection\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </mq-layout>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { message, Button } from \"ant-design-vue\";\r\nimport moment from \"moment\";\r\n\r\nimport Dashboard from \"./Dashboard\";\r\nimport Loading from \"./Loading\";\r\nimport Menu from \"./Menu\";\r\nimport OverviewTable from \"./OverviewTable\";\r\nimport ProjectFeedback from \"./ProjectFeedback\";\r\n\r\nimport { request } from \"../api\";\r\nimport {\r\n  END_POINT,\r\n  DASHBOARD_LABELS_LIST,\r\n  DEFAULT,\r\n  SCREEN_BREAK_POINTS_DEFINITION,\r\n  RATINGS,\r\n  USER_ID,\r\n  FEEDBACK_STATE\r\n} from \"../config\";\r\n\r\nconst DATE_FORMAT = \"YYYY-MM-DD\";\r\n\r\nexport default {\r\n  name: \"FeedbackPage\",\r\n  components: {\r\n    Button,\r\n    Dashboard,\r\n    Loading,\r\n    Menu,\r\n    OverviewTable,\r\n    ProjectFeedback\r\n  },\r\n  data: () => {\r\n    return {\r\n      projects: [],\r\n      project: {\r\n        id: DEFAULT,\r\n        projectName: DEFAULT\r\n      },\r\n      screenBreakpoints: SCREEN_BREAK_POINTS_DEFINITION,\r\n      defaultValue: DEFAULT,\r\n      sections: [],\r\n      ratings: [],\r\n      surveys: [],\r\n      survey: {},\r\n      message,\r\n      isLoading: true,\r\n      showOverview: true,\r\n      overviewData: [],\r\n      historyData: [],\r\n      surveySections: [],\r\n      feedbackStates: FEEDBACK_STATE,\r\n      feedbackState: FEEDBACK_STATE.NO_FEEDBACK,\r\n      key: Math.random(),\r\n      eventName: \"\",\r\n      review: \"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    Promise.all([\r\n      request(`${END_POINT}/api/projects`),\r\n      request(`${END_POINT}/api/sections`),\r\n      request(`${END_POINT}/api/surveys`),\r\n      request(`${END_POINT}/api/dashboard/projects/summary`, {\r\n        method: \"POST\"\r\n      }),\r\n      request(`${END_POINT}/api/dashboard/projects/history`, {\r\n        method: \"POST\"\r\n      })\r\n    ])\r\n      .then(([projects, sections, surveys, overviewData, historyData]) => {\r\n        if (sections && sections.length > 0) {\r\n          this.sections = sections;\r\n        }\r\n\r\n        this.setOverviewData(overviewData);\r\n        this.setHistoryData([historyData], [{ title: DEFAULT }]);\r\n\r\n        this.ratings = RATINGS;\r\n\r\n        if (projects && projects.length > 0) {\r\n          this.projects = projects;\r\n        }\r\n\r\n        if (surveys && surveys.length > 0) {\r\n          this.surveys = surveys;\r\n        }\r\n\r\n        this.isLoading = false;\r\n      })\r\n      .then(() => this.getOverviewTableData())\r\n      .catch(e => {\r\n        this.isLoading = false;\r\n        this.message.error(e);\r\n      });\r\n  },\r\n  methods: {\r\n    onClickChangeSection() {\r\n      this.showOverview = !this.showOverview;\r\n    },\r\n\r\n    onClickNew() {\r\n      this.feedbackState = FEEDBACK_STATE.NEW_FEEDBACK;\r\n      this.surveySections = this.survey.sections.map(section => {\r\n        return {\r\n          ...section,\r\n          title: this.sections.find(item => item.id === section.sectionId).title\r\n        };\r\n      });\r\n    },\r\n\r\n    setOverviewData(overviewData) {\r\n      if (overviewData) {\r\n        this.overviewData = DASHBOARD_LABELS_LIST.map(\r\n          item => overviewData[item]\r\n        );\r\n      }\r\n    },\r\n\r\n    setHistoryData(historyData, sections) {\r\n      if (historyData && historyData.length > 0) {\r\n        this.historyData = sections.map((section, idx) => ({\r\n          title: section.title,\r\n          data: historyData[idx].sort((a, b) => {\r\n            return moment(a.date, DATE_FORMAT) < moment(b.date, DATE_FORMAT)\r\n              ? -1\r\n              : 1;\r\n          })\r\n        }));\r\n      }\r\n    },\r\n\r\n    getOverviewTableData() {\r\n      if (this.sections.length > 0) {\r\n        this.isLoading = true;\r\n        Promise.all(\r\n          this.sections.map(section =>\r\n            request(`${END_POINT}/api/dashboard/projects/summary`, {\r\n              method: \"POST\",\r\n              body: JSON.stringify({\r\n                sectionId: section.id\r\n              })\r\n            })\r\n          )\r\n        )\r\n          .then(values => {\r\n            this.sections = this.sections.map((section, idx) => ({\r\n              ...section,\r\n              ...values[idx]\r\n            }));\r\n            this.isLoading = false;\r\n          })\r\n          .catch(e => {\r\n            throw e;\r\n          });\r\n      }\r\n    },\r\n\r\n    handleSelectProject({ id }) {\r\n      if (this.project.id === id) {\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      if (id === DEFAULT) {\r\n        this.project = {\r\n          id: DEFAULT,\r\n          projectName: DEFAULT\r\n        };\r\n\r\n        Promise.all([\r\n          request(`${END_POINT}/api/dashboard/projects/summary`, {\r\n            method: \"POST\"\r\n          }),\r\n          request(`${END_POINT}/api/dashboard/projects/history`, {\r\n            method: \"POST\"\r\n          })\r\n        ])\r\n          .then(([overviewData, historyData]) => {\r\n            this.setOverviewData(overviewData);\r\n            this.setHistoryData([historyData], [{ title: DEFAULT }]);\r\n            // trigger re-mount overview dashboard\r\n            this.key = Math.random();\r\n            this.isLoading = false;\r\n          })\r\n          .then(() => this.getOverviewTableData())\r\n          .catch(e => {\r\n            this.isLoading = false;\r\n            this.message.error(e);\r\n          });\r\n      } else {\r\n        const selectedProject = this.projects.find(p => p.id === id);\r\n        this.project = {\r\n          projectName: selectedProject.projectName,\r\n          id: selectedProject.id\r\n        };\r\n        if (this.surveys.length > 0) {\r\n          // temporary get survey for project\r\n          const surveyId = this.surveys[0].id;\r\n          Promise.all([\r\n            request(\r\n              `${END_POINT}/api/surveys/${surveyId}/project/${selectedProject.id}`\r\n            ),\r\n            request(\r\n              `${END_POINT}/api/feedbacks/survey/${surveyId}/project/${selectedProject.id}/user/${USER_ID}`\r\n            ),\r\n            request(`${END_POINT}/api/dashboard/projects/summary`, {\r\n              method: \"POST\"\r\n            }),\r\n            request(`${END_POINT}/api/dashboard/projects/history`, {\r\n              method: \"POST\"\r\n            })\r\n          ])\r\n            .then(([survey, feedback, overviewData, historyData]) => {\r\n              this.setOverviewData(overviewData);\r\n              this.setHistoryData([historyData], [{ title: DEFAULT }]);\r\n\r\n              this.survey = { ...survey, id: surveyId };\r\n\r\n              this.surveySections = survey.sections.map(section => {\r\n                return {\r\n                  ...section,\r\n                  title: this.sections.find(\r\n                    item => item.id === section.sectionId\r\n                  ).title\r\n                };\r\n              });\r\n\r\n              if (feedback) {\r\n                this.feedbackState = FEEDBACK_STATE.LAST_FEEDBACK;\r\n                this.review = feedback.review;\r\n                this.eventName = \"\";\r\n\r\n                this.surveySections = this.surveySections.map(section => {\r\n                  return {\r\n                    ...section,\r\n                    questions: section.questions.map(q => {\r\n                      return {\r\n                        ...q,\r\n                        rating: feedback.ratings\r\n                          .find(item => item.sectionId === section.sectionId)\r\n                          .questions.find(\r\n                            item => item.questionId === q.questionId\r\n                          ).rating\r\n                      };\r\n                    })\r\n                  };\r\n                });\r\n              } else {\r\n                this.feedbackState = FEEDBACK_STATE.NO_FEEDBACK;\r\n                this.eventName = \"\";\r\n                this.review = \"\";\r\n              }\r\n              // trigger re-mount overview dashboard\r\n              this.key = Math.random();\r\n              this.isLoading = false;\r\n            })\r\n            .catch(e => {\r\n              this.isLoading = false;\r\n              this.message.error(e);\r\n            });\r\n        } else {\r\n          this.message.error(\"Cannot retrieve survey\");\r\n        }\r\n      }\r\n    },\r\n\r\n    handleRateChange({ sectionId, questionId, rating }) {\r\n      this.surveySections = this.surveySections.map(s => {\r\n        if (s.sectionId === sectionId) {\r\n          return {\r\n            ...s,\r\n            questions: s.questions.map(q => {\r\n              if (q.questionId === questionId) {\r\n                return {\r\n                  ...q,\r\n                  rating\r\n                };\r\n              }\r\n              return q;\r\n            })\r\n          };\r\n        }\r\n        return s;\r\n      });\r\n    },\r\n\r\n    handleSubmitProject({ event, review }) {\r\n      const { project, surveySections } = this;\r\n      this.isLoading = true;\r\n      const requestBody = {\r\n        userId: USER_ID,\r\n        surveyId: this.survey.id,\r\n        projectId: project.id,\r\n        review,\r\n        event,\r\n        ratings: surveySections.map(s => ({\r\n          sectionId: s.sectionId,\r\n          questions: s.questions.map(q => ({\r\n            questionId: q.questionId,\r\n            rating: q.rating\r\n          }))\r\n        }))\r\n      };\r\n\r\n      request(`${END_POINT}/api/feedbacks/submit`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(requestBody)\r\n      })\r\n        .then(() => {\r\n          this.isLoading = false;\r\n          this.eventName = event;\r\n          this.review = review;\r\n          this.feedbackState = FEEDBACK_STATE.LAST_FEEDBACK;\r\n          this.message.success(this.$t(\"feedback.thanks\"));\r\n        })\r\n        .catch(e => {\r\n          this.isLoading = false;\r\n          this.message.error(e);\r\n        });\r\n    },\r\n\r\n    handleCancelProject() {\r\n      this.feedbackState = FEEDBACK_STATE.LAST_FEEDBACK;\r\n    },\r\n\r\n    changeOverviewSection({ sectionId }) {\r\n      this.isLoading = true;\r\n      request(`${END_POINT}/api/dashboard/projects/summary`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          sectionId: sectionId === DEFAULT ? null : sectionId,\r\n          projectId: this.project.id === DEFAULT ? null : this.project.id\r\n        })\r\n      })\r\n        .then(data => {\r\n          this.setOverviewData(data);\r\n          this.isLoading = false;\r\n        })\r\n        .catch(e => {\r\n          this.isLoading = false;\r\n          this.message.error(e);\r\n        });\r\n    },\r\n\r\n    changeHistorySection({ sections }) {\r\n      this.isLoading = true;\r\n      Promise.all(\r\n        sections.map(section =>\r\n          request(`${END_POINT}/api/dashboard/projects/history`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n              sectionId: section.id === DEFAULT ? null : section.id,\r\n              projectId: this.project.id === DEFAULT ? null : this.project.id\r\n            })\r\n          })\r\n        )\r\n      )\r\n        .then(values => {\r\n          this.setHistoryData(values, sections);\r\n          this.isLoading = false;\r\n        })\r\n        .catch(e => {\r\n          this.isLoading = false;\r\n          this.message.error(e);\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.feedback-page-wrapper {\r\n  .feedback-page-content {\r\n    padding-top: 59px;\r\n    display: flex;\r\n    position: relative;\r\n    &::before {\r\n      content: \"\";\r\n      position: fixed;\r\n      border: 2px solid #16619c;\r\n      @media screen and (min-width: $desktop-width) {\r\n        left: 300px;\r\n        right: 0;\r\n        top: 60px;\r\n        bottom: 0;\r\n      }\r\n      @media screen and (max-width: $desktop-width) {\r\n        left: 0;\r\n        right: 0;\r\n        top: 60px;\r\n        bottom: 0;\r\n      }\r\n    }\r\n    &:after {\r\n      content: \"\";\r\n      height: calc(100% - 40px);\r\n      left: calc((100% - 30px) / 2);\r\n      width: 2px;\r\n      background: #16619c;\r\n      @media screen and (min-width: $tablet-width) {\r\n        position: absolute;\r\n      }\r\n    }\r\n    .feedback-page-content-left {\r\n      width: 50%;\r\n      height: 100%;\r\n      margin: 0px 0px 0 10px;\r\n      padding-top: 20px;\r\n      padding-right: 10px;\r\n\r\n      .feedback-page-content-left-header {\r\n        @include header-wrapper;\r\n\r\n        .feedback-page-content-left-header-text {\r\n          @include header-text;\r\n        }\r\n\r\n        .feedback-page-content-left-header-new {\r\n          text-transform: uppercase;\r\n          margin-right: 20px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .feedback-page-content-right {\r\n      width: 50%;\r\n      height: 100%;\r\n      min-height: 100%;\r\n      margin: 0px 10px 0 10px;\r\n      padding-top: 20px;\r\n\r\n      .feedback-page-content-right-header {\r\n        @include header-wrapper;\r\n\r\n        .feedback-page-content-right-header-text {\r\n          @include header-text;\r\n        }\r\n      }\r\n    }\r\n\r\n    @media screen and (max-width: $tablet-width) {\r\n      .feedback-page-content-left,\r\n      .feedback-page-content-right {\r\n        width: 100% !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (min-width: $desktop-width) {\r\n    .feedback-page-content {\r\n      margin-left: $side-menu-width;\r\n    }\r\n  }\r\n}\r\n\r\n.feedback-page-wrapper:focus {\r\n  outline: none;\r\n}\r\n</style>\r\n"]}]}